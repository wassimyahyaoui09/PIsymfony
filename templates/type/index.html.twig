{% extends 'base.html.twig' %}
{% block title %}liste Types{% endblock %}
 {% block container %}

<script src="{{ asset('jquery.min.js') }}"></script>


  <div class="card">
                
       <div class="d-flex justify-content-between">
    <h5 class="card-header">Liste des Types</h5>
    <div class="demo-inline-spacing">
        <a href="{{ path('ajouterType') }}" class="btn rounded-pill btn-danger">Add Type</a>
    </div>
</div>

              
                <div class="table-responsive text-nowrap">
 <div class="card-body">
                    
            <input type="text" class="form-control" placeholder="Searchâ€¦" aria-label="Search"id="search">


    <table class="table" id="tableac">
       <thead class="table-light">
            <tr>
                <th>Id</th>
                <th>Category</th>
                <th>Description</th>
             
                <th>actions</th>
            </tr>
        </thead>
         <tbody class="table-border-bottom-0">
        {% for type in types %}
            <tr>
                <td><i class="fab fa-angular fa-lg text-danger me-3"></i> <strong>{{ type.id }}</strong></td>
                <td>{{ type.category }}</td>
                <td>{{ type.descprition }}</td>
               
                 
                
                <td>
                <div class="dropdown">
                            <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                              <i class="bx bx-dots-vertical-rounded"></i>
                            </button>
                            <div class="dropdown-menu">
                              <a class="dropdown-item" href="{{ path('updateType', {'id': type.id}) }}"
                                ><i class="bx bx-edit-alt me-1"></i> Edit</a
                              >
                              <a class="dropdown-item" href={{path('deleteType',{'id':type.id }) }}"
                                ><i class="bx bx-trash me-1"></i> Delete</a
                              >
                            </div>
                          </div>
  
                  
            </td>
          
               <script>
                $(document).ready(function(){
                    $('#search').keyup(function(){
                        search_table($(this).val());
                    });
                    function search_table(value){
                        $('#tableac tbody tr').each(function(){
                            var found = 'false';
                            $(this).each(function(){
                                if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)
                                {
                                    found = 'true';
                                }
                            });
                            if(found == 'true')
                            {
                                $(this).show();

                            }
                            else
                            {
                                $(this).hide();

                            }
                        });
                    }
                });
            </script>

            </tr>
        {% else %}
            <tr>
                <td colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>




  
              </div>
              
 </div>

  <div class="col">
        
     <div class="d-flex justify-content-center"> 
          <!-- Basic Pagination -->
          <nav aria-label="Page navigation" >
          <ul class="pagination">
    <li class="page-item first">
        {% if hasPreviousPage %}
            <a class="page-link" href="{{ path('app_type_index', {'page': 1}) }}"><i class="tf-icon bx bx-chevrons-left"></i></a>
        {% else %}
            <a class="page-link disabled" href="#"><i class="tf-icon bx bx-chevrons-left"></i></a>
        {% endif %}
    </li>
    <li class="page-item prev">
        {% if hasPreviousPage %}
            <a class="page-link" href="{{ path('app_type_index', {'page': types.getCurrentPageNumber() - 1}) }}"><i class="tf-icon bx bx-chevron-left"></i></a>
        {% else %}
            <a class="page-link disabled" href="#"><i class="tf-icon bx bx-chevron-left"></i></a>
        {% endif %}
    </li>
    {% for page in 1..types.getPageCount() %}
        <li class="page-item {% if types.getCurrentPageNumber() == page %}active{% endif %}">
            <a class="page-link" href="{{ path('app_type_index', {'page': page}) }}">{{ page }}</a>
        </li>
    {% endfor %}
    <li class="page-item next">
        {% if hasNextPage %}
            <a class="page-link" href="{{ path('app_type_index', {'page': types.getCurrentPageNumber() + 1}) }}"><i class="tf-icon bx bx-chevron-right"></i></a>
        {% else %}
            <a class="page-link disabled" href="#"><i class="tf-icon bx bx-chevron-right"></i></a>
        {% endif %}
    </li>
    <li class="page-item last">
        {% if hasNextPage %}
            <a class="page-link" href="{{ path('app_type_index', {'page': types.getPageCount()}) }}"><i class="tf-icon bx bx-chevrons-right"></i></a>
        {% else %}
            <a class="page-link disabled" href="#"><i class="tf-icon bx bx-chevrons-right"></i></a>
        {% endif %}
    </li>
</ul>

          </nav>
          <!--/ Basic Pagination -->
        </div>
      </div>  

  
 
    
{% endblock %}
